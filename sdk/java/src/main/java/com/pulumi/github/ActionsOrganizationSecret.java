// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.github;

import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import com.pulumi.github.ActionsOrganizationSecretArgs;
import com.pulumi.github.Utilities;
import com.pulumi.github.inputs.ActionsOrganizationSecretState;
import java.lang.Boolean;
import java.lang.Integer;
import java.lang.String;
import java.util.List;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * This resource allows you to create and manage GitHub Actions secrets within your GitHub organization.
 * You must have write access to a repository to use this resource.
 * 
 * Secret values are encrypted using the [Go &#39;/crypto/box&#39; module](https://godoc.org/golang.org/x/crypto/nacl/box) which is
 * interoperable with [libsodium](https://libsodium.gitbook.io/doc/). Libsodium is used by GitHub to decrypt secret values.
 * 
 * For the purposes of security, the contents of the `plaintextValue` field have been marked as `sensitive` to Terraform,
 * but it is important to note that **this does not hide it from state files**. You should treat state as sensitive always.
 * It is also advised that you do not store plaintext values in your code but rather populate the `encryptedValue`
 * using fields from a resource, data source or variable as, while encrypted in state, these will be easily accessible
 * in your code. See below for an example of this abstraction.
 * 
 * ## Example Usage
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.github.ActionsOrganizationSecret;
 * import com.pulumi.github.ActionsOrganizationSecretArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         var examplePlaintext = new ActionsOrganizationSecret("examplePlaintext", ActionsOrganizationSecretArgs.builder()
 *             .secretName("example_secret_name")
 *             .visibility("all")
 *             .plaintextValue(someSecretString)
 *             .build());
 * 
 *         var exampleEncrypted = new ActionsOrganizationSecret("exampleEncrypted", ActionsOrganizationSecretArgs.builder()
 *             .secretName("example_secret_name")
 *             .visibility("all")
 *             .encryptedValue(someEncryptedSecretString)
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.github.GithubFunctions;
 * import com.pulumi.github.inputs.GetRepositoryArgs;
 * import com.pulumi.github.ActionsOrganizationSecret;
 * import com.pulumi.github.ActionsOrganizationSecretArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         final var repo = GithubFunctions.getRepository(GetRepositoryArgs.builder()
 *             .fullName("my-org/repo")
 *             .build());
 * 
 *         var exampleEncrypted = new ActionsOrganizationSecret("exampleEncrypted", ActionsOrganizationSecretArgs.builder()
 *             .secretName("example_secret_name")
 *             .visibility("selected")
 *             .plaintextValue(someSecretString)
 *             .selectedRepositoryIds(repo.repoId())
 *             .build());
 * 
 *         var exampleSecret = new ActionsOrganizationSecret("exampleSecret", ActionsOrganizationSecretArgs.builder()
 *             .secretName("example_secret_name")
 *             .visibility("selected")
 *             .encryptedValue(someEncryptedSecretString)
 *             .selectedRepositoryIds(repo.repoId())
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Example Lifecycle Ignore Changes
 * 
 * This resource supports using the `lifecycle` `ignoreChanges` block on `remoteUpdatedAt` to support use cases where a secret value is created using a placeholder value and then modified after creation outside the scope of Terraform. This approach ensures only the initial placeholder value is referenced in your code and in the resulting state file.
 * 
 * <pre>
 * {@code
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.github.ActionsOrganizationSecret;
 * import com.pulumi.github.ActionsOrganizationSecretArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         var exampleAllowDrift = new ActionsOrganizationSecret("exampleAllowDrift", ActionsOrganizationSecretArgs.builder()
 *             .secretName("example_secret_name")
 *             .visibility("all")
 *             .plaintextValue("placeholder")
 *             .build());
 * 
 *     }
 * }
 * }
 * </pre>
 * 
 * ## Import
 * 
 * This resource can be imported using the secret name as the ID.
 * 
 * &gt; **Note**: When importing secrets, the `plaintextValue` or `encryptedValue` fields will not be populated in the state. You may need to ignore changes for these as a workaround if you&#39;re not planning on updating the secret through Terraform.
 * 
 * ### Import Command
 * 
 * The following command imports a GitHub actions organization secret named `mysecret` to a `github.ActionsOrganizationSecret` resource named `example`.
 * 
 * ```sh
 * $ pulumi import github:index/actionsOrganizationSecret:ActionsOrganizationSecret example mysecret
 * ```
 * 
 */
@ResourceType(type="github:index/actionsOrganizationSecret:ActionsOrganizationSecret")
public class ActionsOrganizationSecret extends com.pulumi.resources.CustomResource {
    /**
     * Date the secret was created.
     * 
     */
    @Export(name="createdAt", refs={String.class}, tree="[0]")
    private Output<String> createdAt;

    /**
     * @return Date the secret was created.
     * 
     */
    public Output<String> createdAt() {
        return this.createdAt;
    }
    /**
     * (Optional) This is ignored as drift detection is built into the resource.
     * 
     * &gt; **Note**: One of either `encryptedValue` or `plaintextValue` must be specified.
     * 
     * @deprecated
     * This is no longer required and will be removed in a future release. Drift detection is now always performed, and external changes will result in the secret being updated to match the Terraform configuration. If you want to ignore external changes, you can use the `lifecycle` block with `ignoreChanges` on the `remoteUpdatedAt` field.
     * 
     */
    @Deprecated /* This is no longer required and will be removed in a future release. Drift detection is now always performed, and external changes will result in the secret being updated to match the Terraform configuration. If you want to ignore external changes, you can use the `lifecycle` block with `ignoreChanges` on the `remoteUpdatedAt` field. */
    @Export(name="destroyOnDrift", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> destroyOnDrift;

    /**
     * @return (Optional) This is ignored as drift detection is built into the resource.
     * 
     * &gt; **Note**: One of either `encryptedValue` or `plaintextValue` must be specified.
     * 
     */
    public Output<Optional<Boolean>> destroyOnDrift() {
        return Codegen.optional(this.destroyOnDrift);
    }
    /**
     * Encrypted value of the secret using the GitHub public key in Base64 format.
     * 
     */
    @Export(name="encryptedValue", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> encryptedValue;

    /**
     * @return Encrypted value of the secret using the GitHub public key in Base64 format.
     * 
     */
    public Output<Optional<String>> encryptedValue() {
        return Codegen.optional(this.encryptedValue);
    }
    /**
     * ID of the public key used to encrypt the secret. This should be provided when setting `encryptedValue`; if it isn&#39;t then the current public key will be looked up, which could cause a missmatch. This conflicts with `plaintextValue`.
     * 
     */
    @Export(name="keyId", refs={String.class}, tree="[0]")
    private Output<String> keyId;

    /**
     * @return ID of the public key used to encrypt the secret. This should be provided when setting `encryptedValue`; if it isn&#39;t then the current public key will be looked up, which could cause a missmatch. This conflicts with `plaintextValue`.
     * 
     */
    public Output<String> keyId() {
        return this.keyId;
    }
    /**
     * Plaintext value of the secret to be encrypted.
     * 
     */
    @Export(name="plaintextValue", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> plaintextValue;

    /**
     * @return Plaintext value of the secret to be encrypted.
     * 
     */
    public Output<Optional<String>> plaintextValue() {
        return Codegen.optional(this.plaintextValue);
    }
    /**
     * Date the secret was last updated in GitHub.
     * 
     */
    @Export(name="remoteUpdatedAt", refs={String.class}, tree="[0]")
    private Output<String> remoteUpdatedAt;

    /**
     * @return Date the secret was last updated in GitHub.
     * 
     */
    public Output<String> remoteUpdatedAt() {
        return this.remoteUpdatedAt;
    }
    /**
     * Name of the secret.
     * 
     */
    @Export(name="secretName", refs={String.class}, tree="[0]")
    private Output<String> secretName;

    /**
     * @return Name of the secret.
     * 
     */
    public Output<String> secretName() {
        return this.secretName;
    }
    /**
     * An array of repository IDs that can access the organization variable; this requires `visibility` to be set to `selected`.
     * 
     * @deprecated
     * This field is deprecated and will be removed in a future release. Please use the `github.ActionsOrganizationSecretRepositories` or `github.ActionsOrganizationSecretRepository` resources to manage repository access to organization secrets.
     * 
     */
    @Deprecated /* This field is deprecated and will be removed in a future release. Please use the `github.ActionsOrganizationSecretRepositories` or `github.ActionsOrganizationSecretRepository` resources to manage repository access to organization secrets. */
    @Export(name="selectedRepositoryIds", refs={List.class,Integer.class}, tree="[0,1]")
    private Output</* @Nullable */ List<Integer>> selectedRepositoryIds;

    /**
     * @return An array of repository IDs that can access the organization variable; this requires `visibility` to be set to `selected`.
     * 
     */
    public Output<Optional<List<Integer>>> selectedRepositoryIds() {
        return Codegen.optional(this.selectedRepositoryIds);
    }
    /**
     * Date the secret was last updated by the provider.
     * 
     */
    @Export(name="updatedAt", refs={String.class}, tree="[0]")
    private Output<String> updatedAt;

    /**
     * @return Date the secret was last updated by the provider.
     * 
     */
    public Output<String> updatedAt() {
        return this.updatedAt;
    }
    /**
     * Configures the access that repositories have to the organization secret; must be one of `all`, `private`, or `selected`.
     * 
     */
    @Export(name="visibility", refs={String.class}, tree="[0]")
    private Output<String> visibility;

    /**
     * @return Configures the access that repositories have to the organization secret; must be one of `all`, `private`, or `selected`.
     * 
     */
    public Output<String> visibility() {
        return this.visibility;
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public ActionsOrganizationSecret(java.lang.String name) {
        this(name, ActionsOrganizationSecretArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public ActionsOrganizationSecret(java.lang.String name, ActionsOrganizationSecretArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public ActionsOrganizationSecret(java.lang.String name, ActionsOrganizationSecretArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("github:index/actionsOrganizationSecret:ActionsOrganizationSecret", name, makeArgs(args, options), makeResourceOptions(options, Codegen.empty()), false);
    }

    private ActionsOrganizationSecret(java.lang.String name, Output<java.lang.String> id, @Nullable ActionsOrganizationSecretState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("github:index/actionsOrganizationSecret:ActionsOrganizationSecret", name, state, makeResourceOptions(options, id), false);
    }

    private static ActionsOrganizationSecretArgs makeArgs(ActionsOrganizationSecretArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        if (options != null && options.getUrn().isPresent()) {
            return null;
        }
        return args == null ? ActionsOrganizationSecretArgs.Empty : args;
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<java.lang.String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .additionalSecretOutputs(List.of(
                "encryptedValue",
                "plaintextValue"
            ))
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static ActionsOrganizationSecret get(java.lang.String name, Output<java.lang.String> id, @Nullable ActionsOrganizationSecretState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new ActionsOrganizationSecret(name, id, state, options);
    }
}
