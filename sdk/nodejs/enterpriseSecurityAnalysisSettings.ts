// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "./utilities";

/**
 * This resource allows you to manage code security and analysis settings for a GitHub Enterprise account. This controls Advanced Security, Secret Scanning, and related security features that are automatically enabled for new repositories in the enterprise.
 *
 * You must have enterprise admin access to use this resource.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as github from "@pulumi/github";
 *
 * // Basic security settings - enable secret scanning only
 * const basic = new github.EnterpriseSecurityAnalysisSettings("basic", {
 *     enterpriseSlug: "my-enterprise",
 *     secretScanningEnabledForNewRepositories: true,
 * });
 * // Full security configuration with all features enabled
 * const comprehensive = new github.EnterpriseSecurityAnalysisSettings("comprehensive", {
 *     enterpriseSlug: "my-enterprise",
 *     advancedSecurityEnabledForNewRepositories: true,
 *     secretScanningEnabledForNewRepositories: true,
 *     secretScanningPushProtectionEnabledForNewRepositories: true,
 *     secretScanningValidityChecksEnabled: true,
 *     secretScanningPushProtectionCustomLink: "https://octokit.com/security-guidelines",
 * });
 * ```
 *
 * ## Notes
 *
 * > **Note:** This resource requires a GitHub Enterprise account and enterprise admin permissions.
 *
 * > **Note:** Advanced Security features require a GitHub Advanced Security license.
 *
 * When this resource is destroyed, all security analysis settings will be reset to disabled defaults for security reasons.
 *
 * ## Dependencies
 *
 * This resource manages the following security features:
 *
 * - **Advanced Security**: Code scanning, secret scanning, and dependency review
 * - **Secret Scanning**: Automatic detection of secrets in code
 * - **Push Protection**: Prevents secrets from being committed to repositories
 * - **Validity Checks**: Verifies that detected secrets are actually valid
 *
 * These settings only apply to **new repositories** created after the settings are enabled. Existing repositories are not affected and must be configured individually.
 *
 * ## Import
 *
 * Enterprise security analysis settings can be imported using the enterprise slug:
 *
 * ```sh
 * $ pulumi import github:index/enterpriseSecurityAnalysisSettings:EnterpriseSecurityAnalysisSettings example my-enterprise
 * ```
 */
export class EnterpriseSecurityAnalysisSettings extends pulumi.CustomResource {
    /**
     * Get an existing EnterpriseSecurityAnalysisSettings resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: EnterpriseSecurityAnalysisSettingsState, opts?: pulumi.CustomResourceOptions): EnterpriseSecurityAnalysisSettings {
        return new EnterpriseSecurityAnalysisSettings(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'github:index/enterpriseSecurityAnalysisSettings:EnterpriseSecurityAnalysisSettings';

    /**
     * Returns true if the given object is an instance of EnterpriseSecurityAnalysisSettings.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is EnterpriseSecurityAnalysisSettings {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === EnterpriseSecurityAnalysisSettings.__pulumiType;
    }

    /**
     * Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
     */
    declare public readonly advancedSecurityEnabledForNewRepositories: pulumi.Output<boolean | undefined>;
    /**
     * The slug of the enterprise.
     */
    declare public readonly enterpriseSlug: pulumi.Output<string>;
    /**
     * Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
     */
    declare public readonly secretScanningEnabledForNewRepositories: pulumi.Output<boolean | undefined>;
    /**
     * Custom URL for secret scanning push protection bypass instructions.
     */
    declare public readonly secretScanningPushProtectionCustomLink: pulumi.Output<string | undefined>;
    /**
     * Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
     */
    declare public readonly secretScanningPushProtectionEnabledForNewRepositories: pulumi.Output<boolean | undefined>;
    /**
     * Whether secret scanning validity checks are enabled. Defaults to `false`.
     */
    declare public readonly secretScanningValidityChecksEnabled: pulumi.Output<boolean | undefined>;

    /**
     * Create a EnterpriseSecurityAnalysisSettings resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: EnterpriseSecurityAnalysisSettingsArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: EnterpriseSecurityAnalysisSettingsArgs | EnterpriseSecurityAnalysisSettingsState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as EnterpriseSecurityAnalysisSettingsState | undefined;
            resourceInputs["advancedSecurityEnabledForNewRepositories"] = state?.advancedSecurityEnabledForNewRepositories;
            resourceInputs["enterpriseSlug"] = state?.enterpriseSlug;
            resourceInputs["secretScanningEnabledForNewRepositories"] = state?.secretScanningEnabledForNewRepositories;
            resourceInputs["secretScanningPushProtectionCustomLink"] = state?.secretScanningPushProtectionCustomLink;
            resourceInputs["secretScanningPushProtectionEnabledForNewRepositories"] = state?.secretScanningPushProtectionEnabledForNewRepositories;
            resourceInputs["secretScanningValidityChecksEnabled"] = state?.secretScanningValidityChecksEnabled;
        } else {
            const args = argsOrState as EnterpriseSecurityAnalysisSettingsArgs | undefined;
            if (args?.enterpriseSlug === undefined && !opts.urn) {
                throw new Error("Missing required property 'enterpriseSlug'");
            }
            resourceInputs["advancedSecurityEnabledForNewRepositories"] = args?.advancedSecurityEnabledForNewRepositories;
            resourceInputs["enterpriseSlug"] = args?.enterpriseSlug;
            resourceInputs["secretScanningEnabledForNewRepositories"] = args?.secretScanningEnabledForNewRepositories;
            resourceInputs["secretScanningPushProtectionCustomLink"] = args?.secretScanningPushProtectionCustomLink;
            resourceInputs["secretScanningPushProtectionEnabledForNewRepositories"] = args?.secretScanningPushProtectionEnabledForNewRepositories;
            resourceInputs["secretScanningValidityChecksEnabled"] = args?.secretScanningValidityChecksEnabled;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(EnterpriseSecurityAnalysisSettings.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering EnterpriseSecurityAnalysisSettings resources.
 */
export interface EnterpriseSecurityAnalysisSettingsState {
    /**
     * Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
     */
    advancedSecurityEnabledForNewRepositories?: pulumi.Input<boolean>;
    /**
     * The slug of the enterprise.
     */
    enterpriseSlug?: pulumi.Input<string>;
    /**
     * Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
     */
    secretScanningEnabledForNewRepositories?: pulumi.Input<boolean>;
    /**
     * Custom URL for secret scanning push protection bypass instructions.
     */
    secretScanningPushProtectionCustomLink?: pulumi.Input<string>;
    /**
     * Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
     */
    secretScanningPushProtectionEnabledForNewRepositories?: pulumi.Input<boolean>;
    /**
     * Whether secret scanning validity checks are enabled. Defaults to `false`.
     */
    secretScanningValidityChecksEnabled?: pulumi.Input<boolean>;
}

/**
 * The set of arguments for constructing a EnterpriseSecurityAnalysisSettings resource.
 */
export interface EnterpriseSecurityAnalysisSettingsArgs {
    /**
     * Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
     */
    advancedSecurityEnabledForNewRepositories?: pulumi.Input<boolean>;
    /**
     * The slug of the enterprise.
     */
    enterpriseSlug: pulumi.Input<string>;
    /**
     * Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
     */
    secretScanningEnabledForNewRepositories?: pulumi.Input<boolean>;
    /**
     * Custom URL for secret scanning push protection bypass instructions.
     */
    secretScanningPushProtectionCustomLink?: pulumi.Input<string>;
    /**
     * Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
     */
    secretScanningPushProtectionEnabledForNewRepositories?: pulumi.Input<boolean>;
    /**
     * Whether secret scanning validity checks are enabled. Defaults to `false`.
     */
    secretScanningValidityChecksEnabled?: pulumi.Input<boolean>;
}
