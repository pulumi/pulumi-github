// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package github

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-github/sdk/v6/go/github/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This resource allows you to manage code security and analysis settings for a GitHub Enterprise account. This controls Advanced Security, Secret Scanning, and related security features that are automatically enabled for new repositories in the enterprise.
//
// You must have enterprise admin access to use this resource.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-github/sdk/v6/go/github"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// Basic security settings - enable secret scanning only
//			_, err := github.NewEnterpriseSecurityAnalysisSettings(ctx, "basic", &github.EnterpriseSecurityAnalysisSettingsArgs{
//				EnterpriseSlug:                          pulumi.String("my-enterprise"),
//				SecretScanningEnabledForNewRepositories: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			// Full security configuration with all features enabled
//			_, err = github.NewEnterpriseSecurityAnalysisSettings(ctx, "comprehensive", &github.EnterpriseSecurityAnalysisSettingsArgs{
//				EnterpriseSlug: pulumi.String("my-enterprise"),
//				AdvancedSecurityEnabledForNewRepositories:             pulumi.Bool(true),
//				SecretScanningEnabledForNewRepositories:               pulumi.Bool(true),
//				SecretScanningPushProtectionEnabledForNewRepositories: pulumi.Bool(true),
//				SecretScanningValidityChecksEnabled:                   pulumi.Bool(true),
//				SecretScanningPushProtectionCustomLink:                pulumi.String("https://octokit.com/security-guidelines"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Notes
//
// > **Note:** This resource requires a GitHub Enterprise account and enterprise admin permissions.
//
// > **Note:** Advanced Security features require a GitHub Advanced Security license.
//
// When this resource is destroyed, all security analysis settings will be reset to disabled defaults for security reasons.
//
// ## Dependencies
//
// This resource manages the following security features:
//
// - **Advanced Security**: Code scanning, secret scanning, and dependency review
// - **Secret Scanning**: Automatic detection of secrets in code
// - **Push Protection**: Prevents secrets from being committed to repositories
// - **Validity Checks**: Verifies that detected secrets are actually valid
//
// These settings only apply to **new repositories** created after the settings are enabled. Existing repositories are not affected and must be configured individually.
//
// ## Import
//
// Enterprise security analysis settings can be imported using the enterprise slug:
//
// ```sh
// $ pulumi import github:index/enterpriseSecurityAnalysisSettings:EnterpriseSecurityAnalysisSettings example my-enterprise
// ```
type EnterpriseSecurityAnalysisSettings struct {
	pulumi.CustomResourceState

	// Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
	AdvancedSecurityEnabledForNewRepositories pulumi.BoolPtrOutput `pulumi:"advancedSecurityEnabledForNewRepositories"`
	// The slug of the enterprise.
	EnterpriseSlug pulumi.StringOutput `pulumi:"enterpriseSlug"`
	// Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningEnabledForNewRepositories pulumi.BoolPtrOutput `pulumi:"secretScanningEnabledForNewRepositories"`
	// Custom URL for secret scanning push protection bypass instructions.
	SecretScanningPushProtectionCustomLink pulumi.StringPtrOutput `pulumi:"secretScanningPushProtectionCustomLink"`
	// Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningPushProtectionEnabledForNewRepositories pulumi.BoolPtrOutput `pulumi:"secretScanningPushProtectionEnabledForNewRepositories"`
	// Whether secret scanning validity checks are enabled. Defaults to `false`.
	SecretScanningValidityChecksEnabled pulumi.BoolPtrOutput `pulumi:"secretScanningValidityChecksEnabled"`
}

// NewEnterpriseSecurityAnalysisSettings registers a new resource with the given unique name, arguments, and options.
func NewEnterpriseSecurityAnalysisSettings(ctx *pulumi.Context,
	name string, args *EnterpriseSecurityAnalysisSettingsArgs, opts ...pulumi.ResourceOption) (*EnterpriseSecurityAnalysisSettings, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.EnterpriseSlug == nil {
		return nil, errors.New("invalid value for required argument 'EnterpriseSlug'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource EnterpriseSecurityAnalysisSettings
	err := ctx.RegisterResource("github:index/enterpriseSecurityAnalysisSettings:EnterpriseSecurityAnalysisSettings", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetEnterpriseSecurityAnalysisSettings gets an existing EnterpriseSecurityAnalysisSettings resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetEnterpriseSecurityAnalysisSettings(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *EnterpriseSecurityAnalysisSettingsState, opts ...pulumi.ResourceOption) (*EnterpriseSecurityAnalysisSettings, error) {
	var resource EnterpriseSecurityAnalysisSettings
	err := ctx.ReadResource("github:index/enterpriseSecurityAnalysisSettings:EnterpriseSecurityAnalysisSettings", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering EnterpriseSecurityAnalysisSettings resources.
type enterpriseSecurityAnalysisSettingsState struct {
	// Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
	AdvancedSecurityEnabledForNewRepositories *bool `pulumi:"advancedSecurityEnabledForNewRepositories"`
	// The slug of the enterprise.
	EnterpriseSlug *string `pulumi:"enterpriseSlug"`
	// Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningEnabledForNewRepositories *bool `pulumi:"secretScanningEnabledForNewRepositories"`
	// Custom URL for secret scanning push protection bypass instructions.
	SecretScanningPushProtectionCustomLink *string `pulumi:"secretScanningPushProtectionCustomLink"`
	// Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningPushProtectionEnabledForNewRepositories *bool `pulumi:"secretScanningPushProtectionEnabledForNewRepositories"`
	// Whether secret scanning validity checks are enabled. Defaults to `false`.
	SecretScanningValidityChecksEnabled *bool `pulumi:"secretScanningValidityChecksEnabled"`
}

type EnterpriseSecurityAnalysisSettingsState struct {
	// Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
	AdvancedSecurityEnabledForNewRepositories pulumi.BoolPtrInput
	// The slug of the enterprise.
	EnterpriseSlug pulumi.StringPtrInput
	// Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningEnabledForNewRepositories pulumi.BoolPtrInput
	// Custom URL for secret scanning push protection bypass instructions.
	SecretScanningPushProtectionCustomLink pulumi.StringPtrInput
	// Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningPushProtectionEnabledForNewRepositories pulumi.BoolPtrInput
	// Whether secret scanning validity checks are enabled. Defaults to `false`.
	SecretScanningValidityChecksEnabled pulumi.BoolPtrInput
}

func (EnterpriseSecurityAnalysisSettingsState) ElementType() reflect.Type {
	return reflect.TypeOf((*enterpriseSecurityAnalysisSettingsState)(nil)).Elem()
}

type enterpriseSecurityAnalysisSettingsArgs struct {
	// Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
	AdvancedSecurityEnabledForNewRepositories *bool `pulumi:"advancedSecurityEnabledForNewRepositories"`
	// The slug of the enterprise.
	EnterpriseSlug string `pulumi:"enterpriseSlug"`
	// Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningEnabledForNewRepositories *bool `pulumi:"secretScanningEnabledForNewRepositories"`
	// Custom URL for secret scanning push protection bypass instructions.
	SecretScanningPushProtectionCustomLink *string `pulumi:"secretScanningPushProtectionCustomLink"`
	// Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningPushProtectionEnabledForNewRepositories *bool `pulumi:"secretScanningPushProtectionEnabledForNewRepositories"`
	// Whether secret scanning validity checks are enabled. Defaults to `false`.
	SecretScanningValidityChecksEnabled *bool `pulumi:"secretScanningValidityChecksEnabled"`
}

// The set of arguments for constructing a EnterpriseSecurityAnalysisSettings resource.
type EnterpriseSecurityAnalysisSettingsArgs struct {
	// Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
	AdvancedSecurityEnabledForNewRepositories pulumi.BoolPtrInput
	// The slug of the enterprise.
	EnterpriseSlug pulumi.StringInput
	// Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningEnabledForNewRepositories pulumi.BoolPtrInput
	// Custom URL for secret scanning push protection bypass instructions.
	SecretScanningPushProtectionCustomLink pulumi.StringPtrInput
	// Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
	SecretScanningPushProtectionEnabledForNewRepositories pulumi.BoolPtrInput
	// Whether secret scanning validity checks are enabled. Defaults to `false`.
	SecretScanningValidityChecksEnabled pulumi.BoolPtrInput
}

func (EnterpriseSecurityAnalysisSettingsArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*enterpriseSecurityAnalysisSettingsArgs)(nil)).Elem()
}

type EnterpriseSecurityAnalysisSettingsInput interface {
	pulumi.Input

	ToEnterpriseSecurityAnalysisSettingsOutput() EnterpriseSecurityAnalysisSettingsOutput
	ToEnterpriseSecurityAnalysisSettingsOutputWithContext(ctx context.Context) EnterpriseSecurityAnalysisSettingsOutput
}

func (*EnterpriseSecurityAnalysisSettings) ElementType() reflect.Type {
	return reflect.TypeOf((**EnterpriseSecurityAnalysisSettings)(nil)).Elem()
}

func (i *EnterpriseSecurityAnalysisSettings) ToEnterpriseSecurityAnalysisSettingsOutput() EnterpriseSecurityAnalysisSettingsOutput {
	return i.ToEnterpriseSecurityAnalysisSettingsOutputWithContext(context.Background())
}

func (i *EnterpriseSecurityAnalysisSettings) ToEnterpriseSecurityAnalysisSettingsOutputWithContext(ctx context.Context) EnterpriseSecurityAnalysisSettingsOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EnterpriseSecurityAnalysisSettingsOutput)
}

// EnterpriseSecurityAnalysisSettingsArrayInput is an input type that accepts EnterpriseSecurityAnalysisSettingsArray and EnterpriseSecurityAnalysisSettingsArrayOutput values.
// You can construct a concrete instance of `EnterpriseSecurityAnalysisSettingsArrayInput` via:
//
//	EnterpriseSecurityAnalysisSettingsArray{ EnterpriseSecurityAnalysisSettingsArgs{...} }
type EnterpriseSecurityAnalysisSettingsArrayInput interface {
	pulumi.Input

	ToEnterpriseSecurityAnalysisSettingsArrayOutput() EnterpriseSecurityAnalysisSettingsArrayOutput
	ToEnterpriseSecurityAnalysisSettingsArrayOutputWithContext(context.Context) EnterpriseSecurityAnalysisSettingsArrayOutput
}

type EnterpriseSecurityAnalysisSettingsArray []EnterpriseSecurityAnalysisSettingsInput

func (EnterpriseSecurityAnalysisSettingsArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*EnterpriseSecurityAnalysisSettings)(nil)).Elem()
}

func (i EnterpriseSecurityAnalysisSettingsArray) ToEnterpriseSecurityAnalysisSettingsArrayOutput() EnterpriseSecurityAnalysisSettingsArrayOutput {
	return i.ToEnterpriseSecurityAnalysisSettingsArrayOutputWithContext(context.Background())
}

func (i EnterpriseSecurityAnalysisSettingsArray) ToEnterpriseSecurityAnalysisSettingsArrayOutputWithContext(ctx context.Context) EnterpriseSecurityAnalysisSettingsArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EnterpriseSecurityAnalysisSettingsArrayOutput)
}

// EnterpriseSecurityAnalysisSettingsMapInput is an input type that accepts EnterpriseSecurityAnalysisSettingsMap and EnterpriseSecurityAnalysisSettingsMapOutput values.
// You can construct a concrete instance of `EnterpriseSecurityAnalysisSettingsMapInput` via:
//
//	EnterpriseSecurityAnalysisSettingsMap{ "key": EnterpriseSecurityAnalysisSettingsArgs{...} }
type EnterpriseSecurityAnalysisSettingsMapInput interface {
	pulumi.Input

	ToEnterpriseSecurityAnalysisSettingsMapOutput() EnterpriseSecurityAnalysisSettingsMapOutput
	ToEnterpriseSecurityAnalysisSettingsMapOutputWithContext(context.Context) EnterpriseSecurityAnalysisSettingsMapOutput
}

type EnterpriseSecurityAnalysisSettingsMap map[string]EnterpriseSecurityAnalysisSettingsInput

func (EnterpriseSecurityAnalysisSettingsMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*EnterpriseSecurityAnalysisSettings)(nil)).Elem()
}

func (i EnterpriseSecurityAnalysisSettingsMap) ToEnterpriseSecurityAnalysisSettingsMapOutput() EnterpriseSecurityAnalysisSettingsMapOutput {
	return i.ToEnterpriseSecurityAnalysisSettingsMapOutputWithContext(context.Background())
}

func (i EnterpriseSecurityAnalysisSettingsMap) ToEnterpriseSecurityAnalysisSettingsMapOutputWithContext(ctx context.Context) EnterpriseSecurityAnalysisSettingsMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(EnterpriseSecurityAnalysisSettingsMapOutput)
}

type EnterpriseSecurityAnalysisSettingsOutput struct{ *pulumi.OutputState }

func (EnterpriseSecurityAnalysisSettingsOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**EnterpriseSecurityAnalysisSettings)(nil)).Elem()
}

func (o EnterpriseSecurityAnalysisSettingsOutput) ToEnterpriseSecurityAnalysisSettingsOutput() EnterpriseSecurityAnalysisSettingsOutput {
	return o
}

func (o EnterpriseSecurityAnalysisSettingsOutput) ToEnterpriseSecurityAnalysisSettingsOutputWithContext(ctx context.Context) EnterpriseSecurityAnalysisSettingsOutput {
	return o
}

// Whether GitHub Advanced Security is automatically enabled for new repositories. Defaults to `false`. Requires Advanced Security license.
func (o EnterpriseSecurityAnalysisSettingsOutput) AdvancedSecurityEnabledForNewRepositories() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *EnterpriseSecurityAnalysisSettings) pulumi.BoolPtrOutput {
		return v.AdvancedSecurityEnabledForNewRepositories
	}).(pulumi.BoolPtrOutput)
}

// The slug of the enterprise.
func (o EnterpriseSecurityAnalysisSettingsOutput) EnterpriseSlug() pulumi.StringOutput {
	return o.ApplyT(func(v *EnterpriseSecurityAnalysisSettings) pulumi.StringOutput { return v.EnterpriseSlug }).(pulumi.StringOutput)
}

// Whether secret scanning is automatically enabled for new repositories. Defaults to `false`.
func (o EnterpriseSecurityAnalysisSettingsOutput) SecretScanningEnabledForNewRepositories() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *EnterpriseSecurityAnalysisSettings) pulumi.BoolPtrOutput {
		return v.SecretScanningEnabledForNewRepositories
	}).(pulumi.BoolPtrOutput)
}

// Custom URL for secret scanning push protection bypass instructions.
func (o EnterpriseSecurityAnalysisSettingsOutput) SecretScanningPushProtectionCustomLink() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *EnterpriseSecurityAnalysisSettings) pulumi.StringPtrOutput {
		return v.SecretScanningPushProtectionCustomLink
	}).(pulumi.StringPtrOutput)
}

// Whether secret scanning push protection is automatically enabled for new repositories. Defaults to `false`.
func (o EnterpriseSecurityAnalysisSettingsOutput) SecretScanningPushProtectionEnabledForNewRepositories() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *EnterpriseSecurityAnalysisSettings) pulumi.BoolPtrOutput {
		return v.SecretScanningPushProtectionEnabledForNewRepositories
	}).(pulumi.BoolPtrOutput)
}

// Whether secret scanning validity checks are enabled. Defaults to `false`.
func (o EnterpriseSecurityAnalysisSettingsOutput) SecretScanningValidityChecksEnabled() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *EnterpriseSecurityAnalysisSettings) pulumi.BoolPtrOutput {
		return v.SecretScanningValidityChecksEnabled
	}).(pulumi.BoolPtrOutput)
}

type EnterpriseSecurityAnalysisSettingsArrayOutput struct{ *pulumi.OutputState }

func (EnterpriseSecurityAnalysisSettingsArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*EnterpriseSecurityAnalysisSettings)(nil)).Elem()
}

func (o EnterpriseSecurityAnalysisSettingsArrayOutput) ToEnterpriseSecurityAnalysisSettingsArrayOutput() EnterpriseSecurityAnalysisSettingsArrayOutput {
	return o
}

func (o EnterpriseSecurityAnalysisSettingsArrayOutput) ToEnterpriseSecurityAnalysisSettingsArrayOutputWithContext(ctx context.Context) EnterpriseSecurityAnalysisSettingsArrayOutput {
	return o
}

func (o EnterpriseSecurityAnalysisSettingsArrayOutput) Index(i pulumi.IntInput) EnterpriseSecurityAnalysisSettingsOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *EnterpriseSecurityAnalysisSettings {
		return vs[0].([]*EnterpriseSecurityAnalysisSettings)[vs[1].(int)]
	}).(EnterpriseSecurityAnalysisSettingsOutput)
}

type EnterpriseSecurityAnalysisSettingsMapOutput struct{ *pulumi.OutputState }

func (EnterpriseSecurityAnalysisSettingsMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*EnterpriseSecurityAnalysisSettings)(nil)).Elem()
}

func (o EnterpriseSecurityAnalysisSettingsMapOutput) ToEnterpriseSecurityAnalysisSettingsMapOutput() EnterpriseSecurityAnalysisSettingsMapOutput {
	return o
}

func (o EnterpriseSecurityAnalysisSettingsMapOutput) ToEnterpriseSecurityAnalysisSettingsMapOutputWithContext(ctx context.Context) EnterpriseSecurityAnalysisSettingsMapOutput {
	return o
}

func (o EnterpriseSecurityAnalysisSettingsMapOutput) MapIndex(k pulumi.StringInput) EnterpriseSecurityAnalysisSettingsOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *EnterpriseSecurityAnalysisSettings {
		return vs[0].(map[string]*EnterpriseSecurityAnalysisSettings)[vs[1].(string)]
	}).(EnterpriseSecurityAnalysisSettingsOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*EnterpriseSecurityAnalysisSettingsInput)(nil)).Elem(), &EnterpriseSecurityAnalysisSettings{})
	pulumi.RegisterInputType(reflect.TypeOf((*EnterpriseSecurityAnalysisSettingsArrayInput)(nil)).Elem(), EnterpriseSecurityAnalysisSettingsArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*EnterpriseSecurityAnalysisSettingsMapInput)(nil)).Elem(), EnterpriseSecurityAnalysisSettingsMap{})
	pulumi.RegisterOutputType(EnterpriseSecurityAnalysisSettingsOutput{})
	pulumi.RegisterOutputType(EnterpriseSecurityAnalysisSettingsArrayOutput{})
	pulumi.RegisterOutputType(EnterpriseSecurityAnalysisSettingsMapOutput{})
}
